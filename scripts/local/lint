#!/usr/bin/env bash
set -e

# Detect current directory relative to project root
CURRENT_DIR=$(pwd)
PROJECT_ROOT=$(
  cd ../..
  pwd
)
RELATIVE_PATH=$(realpath --relative-to="$PROJECT_ROOT" "$CURRENT_DIR")

cd "$PROJECT_ROOT"

# If we're in a specific subdirectory, target only that path
if [ "$RELATIVE_PATH" != "." ]; then
  ./scripts/meta/lint "$RELATIVE_PATH" "$@"
else
  ./scripts/meta/lint "$@"
fi
